**<h3 align="center">Bars Esia OAuth20 App</h3>**
<h3 align="center">–ú–æ–¥—É–ª—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ï–°–ò–ê</h3>

---

<p align="center"> –ö—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ.
    <br> 
</p>

## üìù **–†–∞–∑–¥–µ–ª—ã**

- [About](#üèÅ-about)
- [Windows service](#üèÅ-windows-service)
- [Console application](#üèÅ-console-application)
- [B4.CONFIG](#üèÅ-b4config)
- [Supported settings](#üèÅ-supported-settings)
- [Additional info](#üèÅ-additional-info)

---

## üèÅ **About**

–ú–æ–¥—É–ª—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ï–°–ò–ê –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤ –≤–∏–¥–µ —Å–µ—Ä–≤–∏—Å–∞-—Å–ª—É–∂–±—ã Windows. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ —Ä–∞–º–∫–∞—Ö [–∑–∞–¥–∞—á–∏](https://jira.bars.group/browse/GKH-20552).

## üèÅ **Windows service**

–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ –≤–∏–¥–µ —Å–ª—É–∂–±—ã Windows:
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞ –º–æ–¥—É–ª—è –≤ —Å–ª—É–∂–±–∞—Ö —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ —Ä–µ—à–µ–Ω—è–º–∏. –ö –ø—Ä–∏–º–µ—Ä—É, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –≤ Windows SC.EXE
```
sc create MyService binPath=C:\MyService\MyService.exe DisplayName=‚Ä≥My New Service‚Ä≥ type=own start=auto
```
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –≤ –º–æ–¥—É–ª—å _installer'–∞_ (–¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ -i —É–∫–∞–∑–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä -u)
```
Bars.Esia.OAuth20.App.exe -i
```

## üèÅ **Console application**

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ –≤–∏–¥–µ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä -s
```
Bars.Esia.OAuth20.App.exe -s
```

## üèÅ **B4.CONFIG**

–ö–æ–Ω—Ñ–∏–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø–æ–¥ –ª–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –∏ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ä–µ–¥—É –ï–°–ò–ê, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ª–∏—à—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å –∑–∞–∫—Ä—ã—Ç—ã–º –∫–ª—é—á–æ–º. –°–º. [–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é](#üèÅ-additional-info) –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ _**CertificateThumbPrint**_ —Å—Ä–µ–¥–∏ [–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞ –ï–°–ò–ê](#üèÅ-supported-settings).
<br>
–î–ª—è —Å—Ç–µ–Ω–¥–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π _CallbackUri_ –∏ –æ—Ä–∏–µ–Ω—Ç–∏—Ä –Ω–∞ —Å—Ä–µ–¥—É –ï–°–ò–ê - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã _RedirectUri, TokenUri –∏ RestUri_.

## üèÅ **Supported settings**

–ú–æ–¥—É–ª—å –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ B4, –ø–æ—ç—Ç–æ–º—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º —Ñ–∞–π–ª–æ–º —è–≤–ª—è–µ—Ç—Å—è _**b4.config**_ –∏–ª–∏ _**b4.user.config**_, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—Ç—å –ø–µ—Ä–≤—ã–π. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ logger'–æ–≤ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ —ç—Ç–∏—Ö –∂–µ —Ñ–∞–π–ª–∞—Ö.

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Å–µ–∫—Ü–∏—è _appsettings_):
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**:
  - SocketListeningAddress (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –∞–¥—Ä–µ—Å –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π, —É–∫–∞–∑–∞—Ç—å –µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç ip-—à–Ω–∏–∫ —Å–µ—Ä–≤–∞–∫–∞
  - SocketListeningPort - –ø–æ—Ä—Ç –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
  - SocketConnectionsLength (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1) - –º–∞–∫—Å. –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –º–æ–¥—É–ª—å
  - SocketReceiveBufferLength (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1024) - —Ä–∞–∑–º–µ—Ä –±—É—Ñ—Ñ–µ—Ä–∞ –¥–ª—è —Å—á–∏—Ç—ã–≤–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–ª–∏–µ–Ω—Ç–∞ –ï–°–ò–ê**:
  - RequestTimeout (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 60 —Å–µ–∫) - timeout –∑–∞–ø—Ä–æ—Å–∞ –∫ –ï–°–ò–ê
  - MaxResponseContentBufferSize (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10–ú–±) - —Ä–∞–∑–º–µ—Ä –±—É—Ñ—Ñ–µ—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ –ï–°–ò–ê
  - CertificateThumbPrint - –æ—Ç–ø–µ—á–∞—Ç–æ–∫ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ My-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞ LocalMachine (–ª–æ–∫–∞–ª–∫–∞ -> –ª–∏—á–Ω–æ–µ)
  - ClientId - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ò–° (–º–Ω–µ–º–æ–Ω–∏–∫–∞)
  - CallbackUri - –∞–¥—Ä–µ—Å, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å –ï–°–ò–ê –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  - RedirectUri - –∞–¥—Ä–µ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–¥–∞ –¥–æ—Å—Ç—É–ø–∞ –∏–∑ –ï–°–ò–ê
  - TokenUri - –∞–¥—Ä–µ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–∞—Ä–∫–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–∞ –∏–∑ –ï–°–ò–ê
  - RestUri - –∞–¥—Ä–µ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ï–°–ò–ê
  - Scope - –æ–±–ª–∞—Å—Ç—å –¥–æ—Å—Ç—É–ø–∞ (–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –§–ò–û –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–∫–∞–∑—ã–≤–∞—Ç—å "fullname usr_org")
  - RequestType (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é code) - –¢–∏–ø –∑–∞–ø—Ä–æ—Å–∞ (code - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–∞—Ä–∫–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–∞, —Ç.–µ. –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å)
  - PrnsRef, CttsRef, AddrsRef, DocsRef, OrgsRef (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã) - —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –≤ –ï–°–ò–ê

## üèÅ **Additional info**

–£—á–µ—Ç–∫–∏ –ï–°–ò–ê –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ [—Ç—É—Ç](https://conf.bars.group/pages/viewpage.action?pageId=145322579).
<br>
–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ñ–∞–π–ª—ã —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö [—ç—Ç–æ–π –∑–∞–¥–∞—á–∏](https://jira.bars.group/browse/GKH-20552).
<br>
